{"version":3,"sources":["../../test/test_util.js"],"names":["_chai","require","_const_sampler","_const_sampler2","_interopRequireDefault","_in_memory_reporter","_in_memory_reporter2","_opentracing","_opentracing2","_span_context","_span_context2","_tracer","_tracer2","_test_util","_test_util2","_util","_util2","obj","__esModule","default","describe","tracer","span","spanContext","before","beforeEach","startSpan","fromString","it","tags","addTags","assert","isOk","hasTags","isNotOk","expectedTags","actualTags","getTags","equal","filteredTags","deepEqual"],"mappings":"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","file":"test_util.js","sourcesContent":["'use strict';\n\nvar _chai = require('chai');\n\nvar _const_sampler = require('../src/samplers/const_sampler.js');\n\nvar _const_sampler2 = _interopRequireDefault(_const_sampler);\n\nvar _in_memory_reporter = require('../src/reporters/in_memory_reporter.js');\n\nvar _in_memory_reporter2 = _interopRequireDefault(_in_memory_reporter);\n\nvar _opentracing = require('opentracing');\n\nvar _opentracing2 = _interopRequireDefault(_opentracing);\n\nvar _span_context = require('../src/span_context.js');\n\nvar _span_context2 = _interopRequireDefault(_span_context);\n\nvar _tracer = require('../src/tracer.js');\n\nvar _tracer2 = _interopRequireDefault(_tracer);\n\nvar _test_util = require('../src/test_util.js');\n\nvar _test_util2 = _interopRequireDefault(_test_util);\n\nvar _util = require('../src/util.js');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\ndescribe('TestUtils', function () {\n    var tracer = void 0;\n    var span = void 0;\n    var spanContext = void 0;\n\n    before(function () {\n        tracer = new _tracer2.default('test-tracer', new _in_memory_reporter2.default(), new _const_sampler2.default(true));\n    });\n\n    beforeEach(function () {\n        span = tracer.startSpan('op-name');\n        spanContext = _span_context2.default.fromString('ab:cd:ef:3');\n    });\n\n    it('should support hasTags', function () {\n        var tags = {\n            'keyOne': 'valueOne',\n            'keyTwo': 'valueTwo'\n        };\n        span.addTags(tags);\n\n        _chai.assert.isOk(_test_util2.default.hasTags(span, tags));\n        _chai.assert.isNotOk(_test_util2.default.hasTags(span, { 'k': 'v' }));\n        _chai.assert.isNotOk(_test_util2.default.hasTags(span, { 'keyOne': 'valueTwo' }));\n    });\n\n    it('should support getTags', function () {\n        var expectedTags = {\n            'keyOne': 'valueOne',\n            'keyTwo': 'valueTwo'\n        };\n        span.addTags(expectedTags);\n        var actualTags = _test_util2.default.getTags(span);\n        _chai.assert.equal(actualTags['keyOne'], expectedTags['keyOne']);\n        _chai.assert.equal(actualTags['keyTwo'], expectedTags['keyTwo']);\n        var filteredTags = _test_util2.default.getTags(span, ['keyTwo', 'keyThree']);\n        _chai.assert.deepEqual({ 'keyTwo': 'valueTwo' }, filteredTags);\n    });\n});\n//# sourceMappingURL=test_util.js.map"]}