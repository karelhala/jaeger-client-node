{"version":3,"sources":["../../test/tchannel_bridge.js"],"names":["_lodash","require","_lodash2","_interopRequireDefault","_chai","_constants","constants","_interopRequireWildcard","_const_sampler","_const_sampler2","_default_context","_default_context2","_path","_path2","_in_memory_reporter","_in_memory_reporter2","_opentracing","_opentracing2","_test_util","_test_util2","_tracer","_tracer2","_tchannel","_tchannel2","_tchannel_bridge","_tchannel_bridge2","_thrift","_thrift2","_json","_json2","_combinations","_combinations2","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","describe","BIG_TIMEOUT","reporter","tracer","bridge","contextFactory","originalSpan","startSpan","setBaggageItem","ctx1","setSpan","options","as","mode","context","headers","each","o","description","channelEncoding","it","done","server","serviceName","timeout","trace","forceTrace","listen","onServerListening","client","clientSubChannel","makeSubChannel","peers","encodedChannel","channel","entryPoint","join","__dirname","register","tracedHandler","handleServerReq","req","head","body","callback","assert","equal","keys","length","traceIdStr","getSpan","ok","value","err","res","arg2","arg3","tracedChannel","clientCallback","isNotOk","spans","serverSpan","clientSpan","serverSpanTags","Tags","PEER_SERVICE","SPAN_KIND","SPAN_KIND_RPC_SERVER","clientSpanTags","SPAN_KIND_RPC_CLIENT","isOk","hasTags","parentIdStr","spanIdStr","clear","close","request","cn","send","_req"],"mappings":"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","file":"tchannel_bridge.js","sourcesContent":["'use strict';\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _chai = require('chai');\n\nvar _constants = require('../src/constants');\n\nvar constants = _interopRequireWildcard(_constants);\n\nvar _const_sampler = require('../src/samplers/const_sampler');\n\nvar _const_sampler2 = _interopRequireDefault(_const_sampler);\n\nvar _default_context = require('../src/default_context');\n\nvar _default_context2 = _interopRequireDefault(_default_context);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _in_memory_reporter = require('../src/reporters/in_memory_reporter');\n\nvar _in_memory_reporter2 = _interopRequireDefault(_in_memory_reporter);\n\nvar _opentracing = require('opentracing');\n\nvar _opentracing2 = _interopRequireDefault(_opentracing);\n\nvar _test_util = require('../src/test_util.js');\n\nvar _test_util2 = _interopRequireDefault(_test_util);\n\nvar _tracer = require('../src/tracer');\n\nvar _tracer2 = _interopRequireDefault(_tracer);\n\nvar _tchannel = require('tchannel');\n\nvar _tchannel2 = _interopRequireDefault(_tchannel);\n\nvar _tchannel_bridge = require('../src/tchannel_bridge.js');\n\nvar _tchannel_bridge2 = _interopRequireDefault(_tchannel_bridge);\n\nvar _thrift = require('tchannel/as/thrift');\n\nvar _thrift2 = _interopRequireDefault(_thrift);\n\nvar _json = require('tchannel/as/json');\n\nvar _json2 = _interopRequireDefault(_json);\n\nvar _combinations = require('./lib/combinations.js');\n\nvar _combinations2 = _interopRequireDefault(_combinations);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndescribe('test tchannel span bridge', function () {\n    // BIG_TIMEOUT is useful for debugging purposes.\n    var BIG_TIMEOUT = 15000000;\n    var reporter = new _in_memory_reporter2.default();\n    var tracer = new _tracer2.default('test-service', reporter, new _const_sampler2.default(true));\n    var bridge = new _tchannel_bridge2.default(tracer, {\n        contextFactory: function contextFactory() {\n            return new _default_context2.default();\n        }\n    });\n    var originalSpan = tracer.startSpan('futurama');\n    originalSpan.setBaggageItem('leela', 'fry');\n    var ctx1 = new _default_context2.default();\n    ctx1.setSpan(originalSpan);\n\n    var options = (0, _combinations2.default)({\n        as: ['json', 'thrift'],\n        mode: ['req.send', 'channel.send'],\n        context: [ctx1, null],\n        headers: [{}, null]\n    });\n\n    _lodash2.default.each(options, function (o) {\n        o.description = 'as=' + o.as + '|mode=' + o.mode;\n        o.channelEncoding = o.as === 'json' ? _json2.default : _thrift2.default;\n\n        it(o.description + ' spans propagate through tchannel and preserve parent span properties', function (done) {\n            var server = new _tchannel2.default({\n                serviceName: 'server',\n                timeout: BIG_TIMEOUT,\n                // force tracing on in order to prove that overriding works\n                trace: true,\n                forceTrace: true\n            });\n            // Server calls client channel after it starts listening.\n            server.listen(4040, '127.0.0.1', onServerListening);\n\n            // Create the top level client channel.\n            var client = new _tchannel2.default({\n                // force tracing on in order to prove that overriding works\n                trace: true,\n                forceTrace: true\n            });\n\n            // Create the client subchannel that makes requests.\n            var clientSubChannel = client.makeSubChannel({\n                serviceName: 'server',\n                peers: ['127.0.0.1:4040']\n            });\n\n            // Wrap the subchannel in an encoding\n            var encodedChannel = o.channelEncoding({\n                channel: clientSubChannel,\n                entryPoint: _path2.default.join(__dirname, 'thrift', 'echo.thrift') // ignored in json case\n            });\n\n            var options = {};\n            encodedChannel.register(server, 'Echo::echo', options, bridge.tracedHandler(handleServerReq));\n            function handleServerReq(context, req, head, body, callback) {\n                // headers should not contain $tracing$ prefixed keys, which should be the\n                // only headers used for this test.\n                _chai.assert.equal(Object.keys(head).length, 0);\n\n                // assert that the serverSpan is a child of the original span, if context exists\n                // assert that the serverSpan is NOT a child of the original span, if contexts is null\n                _chai.assert.equal(originalSpan.context().traceIdStr === req.context.getSpan().context().traceIdStr, !!o.context);\n                callback(null, { ok: true, body: { value: 'some-string' } });\n            }\n\n            function onServerListening(err, res, arg2, arg3) {\n                // Outgoing tchannel call is traced\n                var tracedChannel = bridge.tracedChannel(encodedChannel);\n\n                var clientCallback = function clientCallback(err, res, headers, body) {\n                    _chai.assert.isNotOk(err);\n                    _chai.assert.equal(reporter.spans.length, 2);\n\n                    // the first span to be reported is the server span\n                    var serverSpan = reporter.spans[0];\n                    // the second span to be reported is the client span\n                    var clientSpan = reporter.spans[1];\n\n                    var serverSpanTags = {};\n                    serverSpanTags[_opentracing2.default.Tags.PEER_SERVICE] = 'echo';\n                    serverSpanTags[_opentracing2.default.Tags.SPAN_KIND] = _opentracing2.default.Tags.SPAN_KIND_RPC_SERVER;\n                    serverSpanTags['as'] = o.as;\n                    // TODO(oibe) the port for the client request ephemeral, and I don't know how to get it, or if I can.\n\n                    var clientSpanTags = {};\n                    clientSpanTags[_opentracing2.default.Tags.PEER_SERVICE] = 'server';\n                    clientSpanTags[_opentracing2.default.Tags.SPAN_KIND] = _opentracing2.default.Tags.SPAN_KIND_RPC_CLIENT;\n\n                    _chai.assert.isOk(_test_util2.default.hasTags(serverSpan, serverSpanTags));\n                    _chai.assert.isOk(_test_util2.default.hasTags(clientSpan, clientSpanTags));\n\n                    _chai.assert.equal(serverSpan.context().parentIdStr, clientSpan.context().spanIdStr);\n                    // If context exists then the following conditions are true\n                    // else the following conditons are false\n                    _chai.assert.equal(serverSpan.context().traceIdStr === originalSpan.context().traceIdStr, !!o.context);\n                    _chai.assert.equal(clientSpan.context().traceIdStr === originalSpan.context().traceIdStr, !!o.context);\n\n                    reporter.clear();\n                    server.close();\n                    client.close();\n                    done();\n                };\n\n                if (o.mode === 'req.send') {\n                    var req = tracedChannel.request({\n                        serviceName: 'server',\n                        headers: { cn: 'echo' },\n                        context: o.context,\n                        timeout: BIG_TIMEOUT\n                    });\n                    req.send('Echo::echo', o.headers, { value: 'some-string' }, clientCallback);\n                } else if (o.mode === 'channel.send') {\n                    var _req = tracedChannel.channel.request({\n                        serviceName: 'server',\n                        headers: { cn: 'echo' },\n                        context: o.context,\n                        timeout: BIG_TIMEOUT\n                    });\n                    tracedChannel.send(_req, 'Echo::echo', o.headers, { value: 'some-string' }, clientCallback);\n                }\n            }\n        }).timeout(BIG_TIMEOUT);\n    });\n});\n// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//# sourceMappingURL=tchannel_bridge.js.map"]}